(window.webpackJsonpepi=window.webpackJsonpepi||[]).push([[0],{207:function(e,t,a){e.exports=a(305)},212:function(e,t,a){},213:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},214:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(15),i=a.n(r),c=(a(212),a(14)),l=a(13),u=a(16),s=a(17),m=a(18),p=(a(213),a(214),a(175)),f=a(346),d=a(150),g=a(75),b=a(151),h=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},menuButtom:{padding:"10px",cursor:"pointer"}}}));function O(e){var t=e.onRouteChange,a=e.onLogOut,n=h();return o.a.createElement("div",{className:n.root},o.a.createElement(f.a,{position:"static"},o.a.createElement(d.a,null,o.a.createElement(g.a,{variant:"h6",className:n.title},o.a.createElement(b.a,{color:"inherit",onClick:function(){return t("entrega-de-epi")}},"Entrega de EPI"),o.a.createElement(b.a,{color:"inherit",onClick:function(){return t("registros")}},"Registros")),o.a.createElement(b.a,{color:"inherit",onClick:a},"Sair"))))}var v=a(20),E=a(348),j=a(172),y=(a(154),a(171),a(349)),w=a(347);a(134),Object(p.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var P=a(5),S=a(359),x=a(354),C=a(355),D=a(353),z=a(173),k=a(153),I=a(170),N=a(85),T=a(24);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F=Object(p.a)((function(e){return{root:{},select:{fontSize:"1.2em"}}}));function q(e){var t=e.handleFuncionario,a=e.funcionario,r=o.a.useState([]),i=Object(v.a)(r,2),c=i[0],l=i[1],u=F(),s=(Object(T.a)(),o.a.useState(null)),m=Object(v.a)(s,2);m[0],m[1];return Object(n.useEffect)((function(){fetch("https://www.jeancarlos.website/funcionarios").then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return{value:"".concat(e.funcionario_id),label:"".concat(e.matricula," ").concat(e.nome)}}))})).then((function(e){l(e)}))}),[]),o.a.createElement("div",{className:u.root},o.a.createElement(N.a,{className:u.select,value:a,maxMenuHeight:390,styles:{menu:function(e){return W({},e,{zIndex:9999})}},theme:function(e){return W({},e,{borderRadius:5,colors:W({},e.colors,{primary25:"#D8D6D9",primary:"#3f51b5"}),spacing:{baseUnit:8.5}})},TextFieldProps:{label:"Funcionario"},placeholder:"Selecionar Funcion\xe1rio",options:c,onChange:function(e){t(e)}}))}function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=Object(p.a)((function(e){return{root:{},select:{fontSize:"1.2em"}}}));function A(e){var t=e.handleEpi,a=e.codigoEpi,r=o.a.useState([]),i=Object(v.a)(r,2),c=i[0],l=i[1],u=B(),s=(Object(T.a)(),o.a.useState(null)),m=Object(v.a)(s,2);m[0],m[1];return Object(n.useEffect)((function(){fetch("https://www.jeancarlos.website/epis").then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return{value:"".concat(e.epi_id),label:"".concat(e.codigo_epi," ").concat(e.descricao)}}))})).then((function(e){l(e)}))}),[]),o.a.createElement("div",{className:u.root},o.a.createElement(N.a,{className:u.select,value:a,styles:{menu:function(e){return _({},e,{zIndex:9999})}},maxMenuHeight:390,theme:function(e){return _({},e,{borderRadius:5,colors:_({},e.colors,{primary25:"#D8D6D9",primary:"#3f51b5"}),spacing:{baseUnit:8.5}})},TextFieldProps:{label:"Funcionario"},placeholder:"Selecionar EPI",options:c,onChange:function(e){t(e)}}))}function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=Object(p.a)((function(e){return{root:{},select:{fontSize:"1.2em"}}}));function H(e){var t=e.handleAutorizador,a=e.autorizador,r=o.a.useState([]),i=Object(v.a)(r,2),c=i[0],l=i[1],u=J(),s=(Object(T.a)(),o.a.useState(null)),m=Object(v.a)(s,2);m[0],m[1];return Object(n.useEffect)((function(){fetch("https://www.jeancarlos.website/autorizadores").then((function(e){return e.json()})).then((function(e){return e.data.map((function(e){return{value:"".concat(e.funcionario_id),label:"".concat(e.matricula," ").concat(e.nome)}}))})).then((function(e){l(e)}))}),[]),o.a.createElement("div",{className:u.root},o.a.createElement(N.a,{className:u.select,value:a,maxMenuHeight:390,styles:{menu:function(e){return U({},e,{zIndex:9999})}},theme:function(e){return U({},e,{borderRadius:5,colors:U({},e.colors,{primary25:"#D8D6D9",primary:"#3f51b5"}),spacing:{baseUnit:8.5}})},TextFieldProps:{label:"Funcionario"},placeholder:"Selecionar Autorizador",options:c,onChange:function(e){t(e)}}))}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(P.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=Object(p.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},formControl:{margin:e.spacing(0),width:"100%"}}}));function K(){var e=$(),t=o.a.useRef(null),a=o.a.useState(0),n=Object(v.a)(a,2),r=n[0],i=n[1];o.a.useEffect((function(){i(t.current.offsetWidth)}),[]);var c,l=o.a.useState({tipoEpi:"",codigoEpi:"",funcionario:"",motivo:"",autorizador:""}),u=Object(v.a)(l,2),s=u[0],m=u[1],p=o.a.useState(""),f=Object(v.a)(p,2),d=f[0],h=f[1],O=o.a.useState(!1),N=Object(v.a)(O,2),T=N[0],R=N[1],W=function(){R(!1)},F=function(){var e={funcionario_id:s.funcionario.value,autorizador_id:s.autorizador.value,epi_id:s.codigoEpi.value,quantidade:d,motivo:s.motivo};fetch("https://www.jeancarlos.website/saidaepi",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))},M=function(){m(Q({},s,{tipoEpi:"",codigoEpi:"",funcionario:"",motivo:"",autorizador:""})),h("")},_=function(){};return o.a.createElement(w.a,{component:"main",maxWidth:"xs"},o.a.createElement(E.a,null),o.a.createElement("div",{className:e.paper},o.a.createElement(g.a,{component:"h1",variant:"h5"},"Entrega de EPI"),o.a.createElement("form",{className:e.form,onSubmit:function(e){e.preventDefault(),""!==s.funcionario&&""!==s.codigoEpi&&(M(),R(!0),_(),F())}},o.a.createElement(y.a,{container:!0,spacing:2},o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(q,{handleFuncionario:function(e){m(Q({},s,{funcionario:e}))},funcionario:s.funcionario})),o.a.createElement(y.a,{item:!0,xs:9},o.a.createElement(A,{required:!0,handleEpi:function(e){m(Q({},s,{codigoEpi:e}))},codigoEpi:s.codigoEpi})),o.a.createElement(y.a,{item:!0,xs:3},o.a.createElement(j.a,{value:d,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&h(e.target.value)},autoComplete:"fname",variant:"outlined",required:!0,fullWidth:!0,id:"quantidade",label:"Quant."})),o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(k.a,{variant:"outlined",className:e.formControl,required:!0,fullWidth:!0,margin:"normal",autoComplete:"fname"},o.a.createElement(z.a,{ref:t},"Motivo"),o.a.createElement(I.a,{native:!0,value:s.motivo,onChange:(c="motivo",function(e){m(Q({},s,Object(P.a)({},c,e.target.value)))}),labelWidth:r,inputProps:{id:"motivo"}},o.a.createElement("option",{value:""}),o.a.createElement("option",{value:1},"1) Perda (deixou em local incorreto)"),o.a.createElement("option",{value:2},"2) Perda (extravio)"),o.a.createElement("option",{value:3},"3) Substitui\xe7\xe3o por uso"),o.a.createElement("option",{value:4},"4) Danificado"),o.a.createElement("option",{value:5},"5) Recebimento")))),o.a.createElement(y.a,{item:!0,xs:12},o.a.createElement(H,{handleAutorizador:function(e){m(Q({},s,{autorizador:e}))},autorizador:s.autorizador}))),o.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Salvar"),o.a.createElement(S.a,{open:T,onClose:W},o.a.createElement(D.a,{id:"alert-dialog-title"},"Dados salvos"),o.a.createElement(x.a,null,o.a.createElement(C.a,{id:"alert-dialog-description"},"Sa\xedda de EPI realizada com sucesso")),o.a.createElement(b.a,{onClick:W,color:"primary",autoFocus:!0},"OK")))))}var V=a(357),X=(a(356),a(177)),Y=a.n(X),Z=a(184);var ee=Object(p.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#3f51b5"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));Object(Z.a)({palette:{primary:{main:"#009688"},secondary:{main:"#11cb5f"}}});function te(e){var t=e.handleOnSignIn,a=Object(n.useState)(""),r=Object(v.a)(a,2),i=r[0],c=r[1],l=Object(n.useState)(""),u=Object(v.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(v.a)(p,2),d=f[0],h=f[1],O=ee();return o.a.createElement(w.a,{component:"main",maxWidth:"xs"},o.a.createElement(E.a,null),o.a.createElement("div",{className:O.paper},o.a.createElement(V.a,{className:O.avatar},o.a.createElement(Y.a,null)),o.a.createElement(g.a,{component:"h1",variant:"h5"},"Acesso Restrito"),o.a.createElement("form",{className:O.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),fetch("https://www.jeancarlos.website/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:s})}).then((function(e){return e.json()})).then((function(e){e.id?t(e.id):h(!0)}))}},o.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Endere\xe7o de e-mail",autoComplete:"email",autoFocus:!0,onChange:function(e){c(e.target.value),h(!1)},error:d,helperText:""===i&&d?"Campo vazio":""}),o.a.createElement(j.a,Object(P.a)({variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Senha",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){m(e.target.value),h(!1)},error:d,helperText:h?"Usu\xe1rio ou senha inv\xe1lidos.":""},"helperText",""===s&&d?"Campo vazio":"")),o.a.createElement(b.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:O.submit},"Entrar"))))}var ae=a(178),ne=a.n(ae),oe=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).state={registros:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.jeancarlos.website/registros").then((function(e){return e.json()})).then((function(t){var a=t.data;e.setState({registros:a})}))}},{key:"render",value:function(){return o.a.createElement(ne.a,{title:"Registros",columns:[{title:"Data",field:"saida"},{title:"Matricula",field:"matricula"},{title:"Nome",field:"nome"},{title:"Cargo",field:"cargo"},{title:"C\xf3digo EPI",field:"codigo_epi"},{title:"Descri\xe7\xe3o",field:"descricao"},{title:"Quantidade",field:"quantidade"},{title:"Motivo",field:"motivo"},{title:"Autorizador",field:"autorizador"}],data:this.state.registros,options:{exportButton:!0},localization:{toolbar:{searchPlaceholder:"Buscar",exportName:"Exportar como .csv",exportTitle:"Exportar"},pagination:{labelRowsSelect:"linhas",labelRowsPerPage:"Linhas por p\xe1gina",firstTooltip:"Primeira p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"Ultima p\xe1gina",labelDisplayedRows:"{from}-{to} de {count}"}}})}}]),t}(o.a.Component),re=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(s.a)(t).call(this))).handleOnSignIn=function(t){e.setState({user:{id:t}}),e.setState({loggedIn:!0})},e.onRouteChange=function(t){e.setState({route:t})},e.onLogOut=function(){console.log("foi"),e.setState({loggedIn:!1}),e.setState({route:""})},e.state={loggedIn:!1,user:{id:0},route:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.loggedIn?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),o.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})),o.a.createElement("div",null,o.a.createElement(O,{onRouteChange:this.onRouteChange,onLogOut:this.onLogOut}),"registros"===this.state.route?o.a.createElement("div",null,o.a.createElement(oe,null)):o.a.createElement("div",null,o.a.createElement(K,null)))):o.a.createElement(te,{handleOnSignIn:this.handleOnSignIn})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[207,1,2]]]);
//# sourceMappingURL=main.56cf5c43.chunk.js.map